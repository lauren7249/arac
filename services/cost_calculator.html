<html>
<head>
  <style>
  body {
      margin-left:auto;
      margin-right:auto;
      margin: :auto;
      max-width: 500px;
      background: #F7F7F7;
      padding: 25px 15px 25px 10px;
      font: 12px Georgia, "Times New Roman", Times, serif;
      color: #888;
      text-shadow: 1px 1px 1px #FFF;
  }

  h1 {
      font-size: 25px;
      padding: 0px 0px 10px 40px;
      display: block;
      border-bottom:1px solid #E4E4E4;
      margin: -10px -15px 30px -10px;;
      color: #888;
  }
  h1>span {
      display: block;
      font-size: 11px;
  }
  label {
      display: block;
      margin: 0px;
  }
  label>span {
      float: left;
      width: 20%;
      text-align: right;
      padding-right: 10px;
      margin-top: 10px;
      color: #888;
  }
  input[type="text"], input[type="email"], input[type="number"], textarea, select {
      border: 1px solid #DADADA;
      color: #888;
      height: 30px;
      margin-bottom: 16px;
      margin-right: 6px;
      margin-top: 2px;
      outline: 0 none;
      padding: 3px 3px 3px 5px;
      width: 70%;
      font-size: 12px;
      line-height:15px;
      box-shadow: inset 0px 1px 4px #ECECEC;
      -moz-box-shadow: inset 0px 1px 4px #ECECEC;
      -webkit-box-shadow: inset 0px 1px 4px #ECECEC;
  }
  textarea{
      padding: 5px 3px 3px 5px;
  }
  select {
      background: #FFF url('down-arrow.png') no-repeat right;
      background: #FFF url('down-arrow.png') no-repeat right);
      appearance:none;
      -webkit-appearance:none; 
      -moz-appearance: none;
      text-indent: 0.01px;
      text-overflow: '';
      width: 70%;
      height: 35px;
      line-height: 25px;
  }
  textarea{
      height:100px;
  }
  button {
      background: #CF7A7A;
      border: none;
      padding: 10px 25px 10px 25px;
      color: #FFF;
      box-shadow: 1px 1px 5px #B6B6B6;
      border-radius: 3px;
      text-shadow: 1px 1px 1px #9E3F3F;
      cursor: pointer;
  }

/*max_age = 50, 
      #how much we pay people per hour to monitor the scraping
      skilled_wage = 20.0, 
      working_hours_per_day = 8.0, #how many hours per day we can be available to monitor scraping
      computers_running = 10.0, #how many machines we have to run this thing on for all the working hours
      working_days_per_month = 20.0, #how many days our workers are working per month
      revenue_per_hit = 0.1, #how much we charge per hit
      skilled_hours_per_machine_per_scraping_hour = 0.1 #for every hour a machine is scraping, how many hours do we have to spend monitoring it?*/
</style>
</head>
<body align="center">
<p>
<table cellpadding="0" cellspacing="0"><tr><td id="params" valign="top">
<table cellpadding="3" cellspacing="0" width="100%">
<tr><th colspan="2" align="center">
</th></tr>
<form id ="form">
<tr><td><label>Price we charge per match</label>
  <input type="number" id="revenue_per_hit" value=0.10 step="0.01" size="10">$</td></tr> 

<tr><td><label>Age we attempt to match people up to</label>
  <input type="number" id="max_age" value=40 size="10">years old</td></tr> 

<tr><td><label>Machines available to run scraper on</label>
  <input type="number" id="computers_running" value=8 size="4">machines</td></tr>

<tr><td><label>For every hour a machine is scraping, how many hours do we have to spend monitoring it?</label>
  <input type="number" id="skilled_hours_per_machine_per_scraping_hour" value=0.1 step="0.05" size="4">hours</td></tr>

<tr><td><label>Wage we pay people per hour to monitor the scraping</label>
  <input type="number" id="skilled_wage" value=20 size="10"> $/hour</td></tr>

<tr><td><label>Hours per day machines can be monitored</label><input type="number" id="working_hours_per_day" value=8 maxValue=24 size="4">hours/day</td></tr>

<tr><td><label>Days per month machines can be monitored</label><input type="number" id="working_days_per_month" value=20 maxValue=30 size="4">days/month</td></tr>
</form>
</table>
</body>
<body>
<tr><td><button class='button' type="Submit" id='calculate'>Calculate</button></td></tr>
</table>
<table id="main" cellpadding="3" cellspacing="0" width="100%"><tr>
</table>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script  type='text/javascript' >
  function camelize(str) {
    return str.replace(/(?:^\w|[A-Z]|\b\w)/g, function(letter, index) {
      return index == 0 ? letter.toLowerCase() : letter.toUpperCase();
    });
  }
    var form = document.getElementById("form");
    data = {};
    for (var i = 0, ii = form.length; i < ii; ++i) {
      var input = form[i];
      if (input.id) {
        data[input.id] = parseFloat(input.value);
      }
    }
    $(function() {
      $("#calculate").click(function() {
        $("table#main").html('<tr><th colspan="2" align="center"></th></tr>');
        $.ajax({
            type: 'POST',
            url: 'http://localhost:8080/calculate_costs',
            crossDomain: true,
            data: JSON.stringify(data),
            success: function(responseData, textStatus, jqXHR) {
              
              p = JSON.parse(responseData);
              //console.log(responseData);
              for (var key in p) {
                if (data.hasOwnProperty(key)) {continue;}
                var row = $("<tr><td>" + key.replace(/_/g," ") + "</td>" + "<td>" + p[key].toLocaleString() + "</td></tr>")
               // console.log(key + " -> " + p[key]);
                $("table#main").append(row)
              }          
            },
            error: function (responseData, textStatus, errorThrown) {
                alert('upload failed.');
            }
        });  
      })
    });
</script>

</body></html>